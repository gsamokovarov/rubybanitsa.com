<% title "Events" %>

<% if @upcoming_event %>
  <%= render "section", title: "Upcoming Event" do %>
    <%= render @upcoming_event %>
  <% end %>
  <%= render "section_separator" %>
<% end %>

<%= turbo_frame_tag(
  "events",
  target: "_top",
  autoscroll: true,
  data: {
    turbo_action: "advance",
    autoscroll_block: "start",
    autoscroll_behavior: "smooth"
  }
) do %>
  <%= render "section", title: "Past Events", title_element: "h1" do %>
    <%= render "pagination", pagination: @pagination %>

    <% if @events.present? %>
      <%= render "list", events: @events %>
    <% else %>
      <%= render "empty", pagination: @pagination %>
    <% end %>

    <%= render "pagination", pagination: @pagination %>
  <% end %>
<% end %>
